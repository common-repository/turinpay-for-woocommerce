<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TurinPay Sample</title>
  <script type="module" src="./build/index.js"></script>
  <script>
    function ready(callback){
        // in case the document is already rendered
        if (document.readyState!='loading') callback();
        // modern browsers
        else if (document.addEventListener) document.addEventListener('DOMContentLoaded', callback);
        // IE <= 8
        else document.attachEvent('onreadystatechange', function(){
            if (document.readyState=='complete') callback();
        });
    }

    const completedPaid = event => {
      document.getElementById('message').innerHTML = `<h3>Payment Completed!!</h3><b>Payment Intent:</b> ${event.detail.paymentIntent}<br/><b>Invoice</b>: ${event.detail.invoiceId}`
    }

    ready(() => {
        document.querySelector('#pay-button-big').addEventListener('paid', completedPaid)
        document.querySelector('#pay-button-normal').addEventListener('paid', completedPaid)
        document.querySelector('#pay-button-small').addEventListener('paid', completedPaid)
      }
    )
  </script>
  <style>
    .main {
      display: flex;
      flex-direction: column;
    }
    .main > * {
      margin: 0.5rem;
    }
  </style>
</head>
<body>
  <div class="main">
    <div>Button samples.</div>
    <turinpay-button
      env="int"
      id="pay-button-big"
      size="big"
      paymentIntent="1b9c440b-2f71-433d-b1b9-c5644f667ccc"
    ></turinpay-button>
    <turinpay-button
      env="int"
      id="pay-button-normal"
      paymentIntent="1b9c440b-2f71-433d-b1b9-c5644f667ccc"
    ></turinpay-button>
    <turinpay-button
      env="int"
      id="pay-button-small"
      size='small'
      paymentIntent="1b9c440b-2f71-433d-b1b9-c5644f667ccc"
    ></turinpay-button>
    <div id="message"></div>
  </div>
</body>
</html>
